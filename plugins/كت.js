let botSignature = `> âœ¦â”‡ğŒğˆğŠğ„ğ˜ |â™•| ğğğ“â”‡âœ¦`;

let game = global.game_type || (global.game_type = {});

const handler = async (m, { conn }) => {

    if (game[m.chat]) {

        return conn.reply(m.chat, 

`âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§
âš ï¸â”‡ Ù„Ù€Ø¯ÙŠÙ€Ùƒ Ø¬Ù€ÙˆÙ„Ù€Ø© Ù†Ù€Ø§Ø´Ù€Ø·Ù€Ø©!

â†³ Ø§Ù„Ù€Ø±Ø¬Ù€Ø§Ø¡ Ø§Ù„Ù€ØªÙ€Ø®Ù€Ù…Ù€ÙŠÙ€Ù† Ø£ÙˆÙ„Ø§Ù‹
âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§

${botSignature}`, m);

    }

    const animeCharacters = [

        "Ù†Ø§Ø±ÙˆØªÙˆ", "Ø§ÙŠØªØ§ØªØ´ÙŠ", "Ø³Ø§Ø³ÙƒÙŠ", "Ø³Ø§ÙƒÙˆØ±Ø§", "ÙƒØ§ÙƒØ§Ø´ÙŠ", 

        "Ù…Ø§Ø¯Ø§Ø±Ø§", "Ø§ÙˆØ¨ØªÙˆ", "Ø²ÙŠØªØ³Ùˆ", "Ù„ÙˆÙÙŠ", "Ø²ÙˆØ±Ùˆ",

        "Ø´Ø§Ù†ÙƒØ³", "Ø³Ø§Ù†Ø¬ÙŠ", "Ø§ÙŠØ³", "Ø³Ø§Ø¨Ùˆ", "Ø§Ù„Ù„Ø­ÙŠØ© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",

        "Ù†Ø§Ù…ÙŠ", "Ø§ÙŠØ±ÙŠÙ†", "Ù„ÙŠÙØ§ÙŠ", "Ù…ÙŠÙƒØ§Ø³Ø§", "Ù‡Ø§Ù†Ø¬ÙŠ",

        "Ø±Ø§ÙŠÙ†Ø±", "Ø¢Ù†ÙŠ", "Ø¨ÙŠØ±ØªÙ‡ÙˆÙ„Øª", "Ø²ÙŠÙƒ", "ØºÙˆÙƒÙˆ",

        "ÙÙŠØ¬ÙŠØªØ§", "Ø¬ÙˆÙ‡Ø§Ù†", "ØªØ±Ø§Ù†ÙƒØ³", "ÙƒØ±ÙŠÙ„ÙŠÙ†", "ÙØ±ÙŠØ²Ø§",

        "Ø³ÙŠÙ„", "Ù…Ø§Ø¬ÙŠÙ† Ø¨ÙˆÙˆ", "ØªØ§Ù†Ø¬ÙŠØ±Ùˆ", "Ù†ÙŠØ²ÙˆÙƒÙˆ", "Ø§ÙŠÙ†ÙˆØ³ÙƒÙŠ",

        "Ø²ÙŠÙ†ÙŠØªØ³Ùˆ", "Ù…ÙˆØ²Ø§Ù†", "Ø±ÙŠÙ†ØºÙˆÙƒÙˆ", "ØªÙˆÙ…ÙŠØ¤ÙƒØ§", "Ø´ÙŠÙ†ÙˆØ¨Ùˆ"

    ];

    let randomWord = animeCharacters[Math.floor(Math.random() * animeCharacters.length)];

    game[m.chat] = {

        answer: randomWord,

        timeout: setTimeout(() => {

            if (game[m.chat]) {

                conn.reply(m.chat, 

`âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§
ã€âŒ›ã€ Ø§Ù†Ù€ØªÙ€Ù‡Ù€Ù‰ Ø§Ù„Ù€ÙˆÙ‚Ù€Øª!

ã€âœ…ã€ Ø§Ù„Ø¥Ø¬Ù€Ø§Ø¨Ù€Ø© Ø§Ù„Ù€ØµÙ€Ø­Ù€ÙŠÙ€Ø­Ù€Ø©:

â†³ â${randomWord}â
âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§

${botSignature}`, m);

                delete game[m.chat];

            }

        }, 30000) // 30 Ø«Ø§Ù†ÙŠØ©

    };

    await conn.reply(m.chat, 

`âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§
ã€ğŸƒã€ ÙÙ€Ø¹Ù€Ø§Ù„Ù€ÙŠÙ€Ø© Ø£Ø³Ù€Ø±Ø¹ ÙƒÙ€ØªÙ€Ø§Ø¨Ù€Ø©

ã€â³ã€ Ø§Ù„Ù€ÙˆÙ‚Ù€Øª Ø§Ù„Ù€Ù…Ù€ØªÙ€Ø§Ø­: 30 Ø«Ù€Ø§Ù†Ù€ÙŠÙ€Ø©

ã€ğŸ†ã€ Ø¬Ù€Ø§Ø¦Ù€Ø²Ø© Ø§Ù„Ù€ÙÙ€ÙˆØ²: 500 XP
âœ§â•â”â”…â”‰ã€ŠğŸŒºã€‹â”…â”‰â”â•âœ§
ã€ğŸ“ã€ Ø§Ù„Ù€ÙƒÙ€Ù„Ù€Ù…Ù€Ø© Ø§Ù„Ù€Ù…Ù€Ø·Ù€Ù„Ù€ÙˆØ¨ ÙƒÙ€ØªÙ€Ø§Ø¨Ù€ØªÙ€Ù‡Ù€Ø§:

â†³ â${randomWord}â

ã€ğŸ’¡ã€ Ø§ÙƒÙ€ØªÙ€Ø¨ Ø§Ù„Ù€ÙƒÙ€Ù„Ù€Ù…Ù€Ø© Ø¨Ù€Ø¯ÙˆÙ† Ø£ÙŠ ØªÙ€ØºÙ€ÙŠÙ€ÙŠÙ€Ø±
âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§

${botSignature}`, m);

};

handler.before = async (m, { conn }) => {

    if (!game[m.chat]) return;

    

    const chat = game[m.chat];

    const userAnswer = m.text.trim();

    

    if (userAnswer === chat.answer) {

        clearTimeout(chat.timeout);

        await conn.reply(m.chat, 

`âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§
ã€ğŸ‰ã€ Ù…Ù€Ø¨Ù€à¢ªÙˆÙƒ Ù„Ù€Ù‚Ù€Ø¯ ÙÙ€Ø²Øª!

ã€âœ¨ã€ Ø§Ù„Ù€ÙƒÙ€Ù„Ù€Ù…Ù€Ø© Ø§Ù„Ù€ØµÙ€Ø­Ù€ÙŠÙ€Ø­Ù€Ø©:

â†³ â${chat.answer}â

ã€ğŸ…ã€ Ø¬Ù€Ù…Ù€Ø¹Ù€Øª: 500 XP
âœ§â•â”â”…â”‰ã€Šâœ ã€‹â”…â”‰â”â•âœ§

${botSignature}`, m, { mentions: [m.sender] });

        delete game[m.chat];

    }

};

handler.help = ['ÙƒØª'];

handler.tags = ['games'];

handler.command = /^ÙƒØª$/i;

export default handler;