import fs from 'fs';

const jokes = [
  "Ù„ÙŠÙ‡ Ø§Ù„Ù…ØµØ±ÙŠ Ø¨ÙŠØ§Ø®Ø¯ Ø´Ù…Ø¹Ø© Ù…Ø¹Ø§Ù‡ Ù„Ù„Ø­Ù…Ø§Ù…ØŸ Ø¹Ø´Ø§Ù† ÙŠØ¹Ø¯Ù‘ Ø§Ù„Ù€ 'Ù„ÙŠØ§Ù„ÙŠ'!",
  "Ø¥Ø²Ø§Ù‰ Ø¨ØªØ¹Ø±Ù Ø¥Ù† Ø§Ù„Ù…ØµØ±ÙŠ Ø¹Ù†Ø¯Ù‡ ÙˆÙ„Ø§Ø¯ØŸ Ø¨ÙŠÙ‚ÙˆÙ„Ùƒ: 'Ø£Ù†Ø§ Ø¹Ù†Ø¯ÙŠ Ù£.. Ù¢ ÙˆÙ„Ø§Ø¯ ÙˆØ¨Ù†Øª'!",
  "Ù…ÙŠÙ† Ø£Ù‚ÙˆÙ‰ Ø­Ø¯ ÙÙŠ Ù…ØµØ±ØŸ 'Ø§Ù„Ø³Øª Ø§Ù„Ø­Ù†ÙˆÙ†Ø©'.. Ø¹Ø´Ø§Ù† Ø­ØªÙ‰ Ø£Ø¨ÙˆÙ‡Ø§ Ø¨ÙŠØ®Ø§Ù Ù…Ù†Ù‡Ø§!",
  "Ù‚Ø§Ù„ÙˆØ§ Ù„Ù„Ø±Ø§Ø¬Ù„ Ø§Ù„Ù…ØµØ±ÙŠ: Ø¥Ù†Øª Ø¨ØªØ¹Ù…Ù„ Ø¥ÙŠÙ‡ Ù„Ù…Ø§ ØªØºØ¶Ø¨ØŸ Ù‚Ø§Ù„Ù‡Ù…: 'Ø£ØµÙ„ÙŠ.. ÙˆØ£Ø´Ø±Ø¨ Ù…ÙŠØ©.. ÙˆØ£Ø±ÙˆØ­ Ø£Ù†Ø§Ù…'.. Ù‚Ø§Ù„ÙˆÙ„Ù‡: Ø·Ø¨ ÙˆØ¥Ù†Øª Ù…Ø´ Ø¨ØªØ­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŸ Ù‚Ø§Ù„: 'Ù„Ø§.. Ø¨Ø³ Ø¨Ø®Ù„Ù‘ÙŠÙ‡Ø§ ØªÙØ¶Ù„ Ù…Ø´ÙƒÙ„ØªÙ‡Ù…'!",
  "Ø§Ù„Ù…Ø¯Ø±Ø³ Ø³Ø£Ù„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù…ØµØ±ÙŠ: Ø¥Ø²Ø§Ù‰ ØªÙ‚ÙˆÙ„ 'ØªÙØ§Ø­Ø©' Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŸ Ù‚Ø§Ù„Ù‡: 'Ø£Ø¨Ù„'.. Ù‚Ø§Ù„Ù‡: Ø£Ø­Ø³Ù†Øª! Ø·Ø¨ 'Ù…ÙˆØ²'ØŸ Ù‚Ø§Ù„Ù‡: 'Ø¨Ù†Ø§Ù†Ø§'.. Ù‚Ø§Ù„Ù‡: Ù…Ù…ØªØ§Ø²! Ø·Ø¨ 'Ø¨ØµÙ„'ØŸ Ù‚Ø§Ù„Ù‡: 'ÙŠØ§ Ø£Ø³ØªØ§Ø°.. Ø£Ù†Ø§ Ù…Ø´ Ø¬Ø²Ø§Ø±!'",
  "Ø§Ù„Ù…ØµØ±ÙŠ Ù„Ù…Ø§ ÙŠØªØ£Ø®Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø´ØºÙ„ Ø¨ÙŠÙ‚ÙˆÙ„ Ù„Ù„Ù…Ø¯ÙŠØ±: 'Ø¢Ø³Ù ÙŠØ§ Ø£ÙÙ†Ø¯Ù….. Ø¨Ø³ Ø§Ù„ÙØ¬Ø± Ø¥ØªØ£Ø®Ø± Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ø©!'",
  "Ù‚Ø§Ù„ÙˆØ§ Ù„Ù…ØµØ±ÙŠ: Ø¥Ù†Øª Ø¨ØªØ´ØªØºÙ„ Ø¥ÙŠÙ‡ØŸ Ù‚Ø§Ù„Ù‡Ù…: 'Ù…Ù‡Ù†Ø¯Ø³'.. Ù‚Ø§Ù„ÙˆÙ„Ù‡: Ø·Ø¨ Ø¥Ù†Øª Ù…ØªØ®Ø±Ø¬ Ù…Ù†ÙŠÙ†ØŸ Ù‚Ø§Ù„: 'Ù…Ù† Ø§Ù„ØªØ¹Ø¨!'",
  "Ø§Ù„Ù…ØµØ±ÙŠ Ù„Ù…Ø§ ÙŠÙŠØ¬ÙŠ ÙŠØªÙ‚Ø¯Ù… Ù„Ù„Ø¨Ù†Øª Ø¨ÙŠÙ‚ÙˆÙ„ Ù„Ø£Ø¨ÙˆÙ‡Ø§: 'ÙŠØ§ Ø£ÙÙ†Ø¯Ù….. Ø£Ù†Ø§ Ø¹Ù†Ø¯ÙŠ Ø´Ù‚Ø©.. ÙˆØ¹Ø±Ø¨ÙŠØ©.. ÙˆÙ…Ø±ØªØ¨ ÙƒÙˆÙŠØ³'.. Ø£Ø¨Ùˆ Ø§Ù„Ø¨Ù†Øª: 'ØªÙ…Ø§Ù….. Ø¨Ø³ Ø¥Ù†Øª Ø¹Ø§ÙŠØ² Ø¥ÙŠÙ‡ØŸ'",
  "Ø§Ù„Ù…ØµØ±ÙŠ Ø¨ÙŠØ­Ø¨ ÙŠÙ‚ÙˆÙ„: 'Ø±Ø¨Ù†Ø§ ÙŠÙˆÙÙ‚Ùƒ'.. Ù„ÙƒÙ† Ù„Ùˆ Ø´Ø§ÙÙƒ Ù†Ø§Ø¬Ø­ Ø¨ÙŠÙ‚ÙˆÙ„: 'Ø¯ÙŠ Ø­Ø¸ÙˆØ¸ Ø³ÙˆØ¯Ø§!'",
  "Ø§Ù„Ù…ØµØ±ÙŠ Ù„Ù…Ø§ ÙŠÙ„Ø§Ù‚ÙŠ Ø­Ø¯ ØºÙ†ÙŠ Ø¨ÙŠÙ‚ÙˆÙ„: 'Ø±Ø¨Ù†Ø§ ÙŠØ²ÙŠØ¯Ù‡'.. Ù„ÙƒÙ† ÙÙŠ Ù†ÙØ³Ù‡ Ø¨ÙŠÙ‚ÙˆÙ„: 'ÙˆÙŠØ§Ø®Ø¯Ù‡ Ù…Ù†ÙŠÙ† ÙŠØ§ Ø¹Ù…ØŸ!'"
];

// Ø­ÙØ¸ Ø§Ù„Ù†ÙƒØ§Øª Ø§Ù„ØªÙŠ ØªÙ… Ø¹Ø±Ø¶Ù‡Ø§ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±
let usedJokes = [...jokes];

const handler = async (m) => {
  if (usedJokes.length === 0) {
    usedJokes = [...jokes]; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù†ÙƒØ§Øª Ø¥Ø°Ø§ Ù†ÙØ¯Øª
    m.reply("Ø®Ù„ØµØª Ø§Ù„Ù†ÙƒØª.. Ù‡Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯! ğŸ˜‚\n\n" + usedJokes.pop());
  } else {
    const randomIndex = Math.floor(Math.random() * usedJokes.length);
    const selectedJoke = usedJokes.splice(randomIndex, 1)[0];
    m.reply(selectedJoke);
  }
};

handler.help = ['Ù†ÙƒØªØ©', 'Ù†ÙƒØªÙ‡'].map((v) => v + ' (Ù„Ø¥Ø¸Ù‡Ø§Ø± Ù†ÙƒØªØ© Ù…ØµØ±ÙŠØ© Ù…Ø¶Ø­ÙƒØ©)');
handler.tags = ['fun'];
handler.command = ['Ù†ÙƒØªØ©', 'Ù†ÙƒØªÙ‡', 'Ù†ÙƒØª'];

export default handler;